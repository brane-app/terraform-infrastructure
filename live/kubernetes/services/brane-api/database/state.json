{"format_version":"0.2","terraform_version":"1.0.2","values":{"outputs":{"database_address":{"sensitive":false,"value":"api-staging-database-brane-api"},"database_name":{"sensitive":false,"value":"brane-api"},"database_password":{"sensitive":true,"value":"SZ4BEP-Oj%O4Z(+k"},"database_port":{"sensitive":false,"value":3306},"database_user":{"sensitive":false,"value":"brane-api"}},"root_module":{"resources":[{"address":"data.terraform_remote_state.namespace","mode":"data","type":"terraform_remote_state","name":"namespace","provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"kubernetes","config":{"load_config_file":true,"secret_suffix":"brane-namespace-staging"},"defaults":null,"outputs":{"namespace_name":"brane-staging"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}}],"child_modules":[{"resources":[{"address":"module.database.kubernetes_deployment.database","mode":"managed","type":"kubernetes_deployment","name":"database","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"id":"brane-staging/api-staging-database-brane-api","metadata":[{"annotations":null,"generate_name":"","generation":1,"labels":{"app":"api","environment":"staging","resource":"api-staging-database"},"name":"api-staging-database-brane-api","namespace":"brane-staging","resource_version":"277848","uid":"7b6237e0-aae0-4577-bd8d-a6a1ab2f4f63"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"api","environment":"staging","resource":"api-staging-database"}}],"strategy":[{"rolling_update":[{"max_surge":"25%","max_unavailable":"25%"}],"type":"RollingUpdate"}],"template":[{"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":{"app":"api","environment":"staging","resource":"api-staging-database"},"name":"","namespace":"","resource_version":"","uid":""}],"spec":[{"active_deadline_seconds":0,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"MARIADB_DATABASE","value":"brane-api","value_from":[]},{"name":"MARIADB_PASSWORD","value":"SZ4BEP-Oj%O4Z(+k","value_from":[]},{"name":"MARIADB_USER","value":"brane-api","value_from":[]},{"name":"MARIADB_RANDOM_ROOT_PASSWORD","value":"true","value_from":[]}],"env_from":[],"image":"mariadb:latest","image_pull_policy":"Always","lifecycle":[],"liveness_probe":[],"name":"api-staging-database-brane-api","port":[],"readiness_probe":[],"resources":[{"limits":null,"requests":null}],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","termination_message_policy":"File","tty":false,"volume_mount":[],"working_dir":""}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"hostname":"","image_pull_secrets":[],"init_container":[],"node_name":"","node_selector":null,"priority_class_name":"","readiness_gate":[],"restart_policy":"Always","security_context":[],"service_account_name":"","share_process_namespace":false,"subdomain":"","termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_values":{"metadata":[{"labels":{}}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[{"rolling_update":[{}]}],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]},{"value":true,"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[],"readiness_probe":[],"resources":[{}],"security_context":[],"startup_probe":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]},"depends_on":["data.terraform_remote_state.namespace","module.database.random_password.database"]},{"address":"module.database.kubernetes_service.database","mode":"managed","type":"kubernetes_service","name":"database","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"id":"brane-staging/api-staging-database-brane-api","metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":{"app":"api","environment":"staging","resource":"api-staging-database"},"name":"api-staging-database-brane-api","namespace":"brane-staging","resource_version":"277815","uid":"71c9dc2c-6765-4280-9fbb-2b44c64d40bd"}],"spec":[{"cluster_ip":"10.43.226.200","external_ips":null,"external_name":"","external_traffic_policy":"","health_check_node_port":0,"load_balancer_ip":"","load_balancer_source_ranges":null,"port":[{"name":"","node_port":0,"port":3306,"protocol":"TCP","target_port":"3306"}],"publish_not_ready_addresses":false,"selector":{"app":"api","environment":"staging","resource":"api-staging-database"},"session_affinity":"None","type":"ClusterIP"}],"status":[{"load_balancer":[{"ingress":[]}]}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_values":{"metadata":[{"labels":{}}],"spec":[{"port":[{}],"selector":{}}],"status":[{"load_balancer":[{"ingress":[]}]}]},"depends_on":["data.terraform_remote_state.namespace"]},{"address":"module.database.random_password.database","mode":"managed","type":"random_password","name":"database","provider_name":"registry.terraform.io/hashicorp/random","schema_version":0,"values":{"id":"none","keepers":null,"length":16,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"override_special":null,"result":"SZ4BEP-Oj%O4Z(+k","special":true,"upper":true},"sensitive_values":{}}],"address":"module.database"}]}}}
